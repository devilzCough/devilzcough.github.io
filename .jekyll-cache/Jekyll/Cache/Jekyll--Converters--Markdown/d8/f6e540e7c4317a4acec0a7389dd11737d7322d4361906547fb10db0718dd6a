I"è“<h2 id="android">Android</h2>

<p><strong>Retrofit</strong> ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¤ì •
ì°¸ê³ . <a href="https://square.github.io/retrofit/">Retrofit</a></p>

<p><strong>Retrofit ì´ë€?</strong>
Square ì‚¬ì—ì„œ ì œê³µí•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬
REST API ë¥¼ ì•ˆë“œë¡œì´ë“œì—ì„œ ì‰½ê²Œ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë„êµ¬</p>

<h3 id="1-ì¸í„°ë„·-ì‚¬ìš©ê¶Œí•œ-ì¶”ê°€í•˜ê¸°">1. ì¸í„°ë„· ì‚¬ìš©ê¶Œí•œ ì¶”ê°€í•˜ê¸°</h3>
<p><strong>AndroidManifest.xml</strong></p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.INTERNET"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<h3 id="2-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì¶”ê°€í•˜ê¸°">2. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€í•˜ê¸°</h3>
<p><strong>Build.gradle(app)</strong></p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>implementation 'com.squareup.retrofit2:retrofit:2.3.0'
implementation 'com.google.code.gson:gson:2.8.5'
implementation 'com.squareup.retrofit2:converter-gson:2.1.0'
</code></pre></div></div>

<h3 id="3-data">3. Data</h3>
<p>ì•„ë˜ëŠ” ì˜ˆì‹œ ë°ì´í„° í´ë˜ìŠ¤.
ì•„ë˜ í˜•ì‹ìœ¼ë¡œ ì „ì†¡í•  ë°ì´í„° í´ë˜ìŠ¤ ë§Œë“¤ê¸°</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>

    <span class="nd">@SerializedName</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span>
    <span class="nc">String</span> <span class="n">id</span><span class="o">;</span>
    <span class="nd">@SerializedName</span><span class="o">(</span><span class="s">"password"</span><span class="o">)</span>
    <span class="nc">String</span> <span class="n">password</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">User</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">User</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">,</span> <span class="nc">String</span> <span class="n">password</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getPassword</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">password</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPassword</span><span class="o">(</span><span class="nc">String</span> <span class="n">password</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"User{"</span> <span class="o">+</span>
                <span class="s">"id='"</span> <span class="o">+</span> <span class="n">id</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="s">", password='"</span> <span class="o">+</span> <span class="n">password</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="4-ì¸í„°í˜ì´ìŠ¤-ì •ì˜">4. ì¸í„°í˜ì´ìŠ¤ ì •ì˜</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">APIInterface</span> <span class="o">{</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="s">"user"</span><span class="o">)</span>
    <span class="nc">Call</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sendUser</span><span class="o">(</span><span class="nd">@Body</span> <span class="nc">User</span> <span class="n">user</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>
<p>-&gt; Call&lt;[ì‘ë‹µ ë°›ì„ ë°ì´í„° í˜•ì‹]&gt; [í•¨ìˆ˜ëª…] (@Body [ë°ì´í„° ê°ì²´])</p>

<h3 id="5-retrofit-client-ë¹Œë”">5. Retrofit Client ë¹Œë”</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">APIClient</span> <span class="o">{</span>

    <span class="kd">static</span> <span class="nc">Retrofit</span> <span class="nf">getClient</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">Retrofit</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">baseUrl</span><span class="o">(</span><span class="s">"http://[IP]:[PORT]/[ProjectName]/"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">addConverterFactory</span><span class="o">(</span><span class="nc">GsonConverterFactory</span><span class="o">.</span><span class="na">create</span><span class="o">())</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">APIInterface</span> <span class="nf">serverPost</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">getClient</span><span class="o">().</span><span class="na">create</span><span class="o">(</span><span class="nc">APIInterface</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="6-main">6. Main</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="o">{</span>

    <span class="c1">// Example</span>
    <span class="nc">EditText</span> <span class="n">txtId</span><span class="o">,</span> <span class="n">txtPassword</span><span class="o">;</span>
    <span class="nc">Button</span> <span class="n">sendBtn</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>

        <span class="n">txtId</span> <span class="o">=</span> <span class="o">(</span><span class="nc">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">txtId</span><span class="o">);</span>
        <span class="n">txtPassword</span> <span class="o">=</span> <span class="o">(</span><span class="nc">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">txtPassword</span><span class="o">);</span>

        <span class="n">sendBtn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnSend</span><span class="o">);</span>
        <span class="n">sendBtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">(</span>
                        <span class="n">txtId</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">(),</span>
                        <span class="n">txtPassword</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">()</span>
                <span class="o">);</span>
                <span class="n">sendNetworkRequest</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

	  <span class="c1">// ë°ì´í„° ì „ì†¡ í•¨ìˆ˜</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">sendNetworkRequest</span><span class="o">(</span><span class="nc">User</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>

			<span class="c1">// [Client_ClassName].[Client_function].[interface_var]</span>
        <span class="nc">Call</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">call</span> <span class="o">=</span> <span class="nc">APIClient</span><span class="o">.</span><span class="na">serverPost</span><span class="o">().</span><span class="na">sendUser</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>

        <span class="n">call</span><span class="o">.</span><span class="na">enqueue</span><span class="o">(</span><span class="k">new</span> <span class="nc">Callback</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;()</span> <span class="o">{</span>

			  <span class="c1">// ì‘ë‹µ ì„±ê³µ ì‹œ, ì²˜ë¦¬</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onResponse</span><span class="o">(</span><span class="nc">Call</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">call</span><span class="o">,</span> <span class="nc">Response</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>

                <span class="k">try</span> <span class="o">{</span>
                    <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="s">"ì„œë²„ì— ê°’ì„ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤ : "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">(),</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
			 <span class="c1">// ì‘ë‹µ ì‹¤íŒ¨ ì‹œ, ì²˜ë¦¬</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="nc">Call</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">call</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="s">"Something went wrong :("</span><span class="o">,</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>sendNetworkRequest() -&gt; Retrofit ì²˜ë¦¬ ë¶€ë¶„
Enqueue ëŠ” ë¹„ë™ê¸° ë°©ì‹</p>

<h2 id="spring-egovframework">Spring [egovframework]</h2>

<h3 id="1-í”„ë¡œì íŠ¸-ë§Œë“¤ê¸°">1. í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°</h3>
<p><code class="highlighter-rouge">File -&gt; New -&gt; eGovFrame Web Project</code>
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img1.png" alt="img1" /></p>

<p>Project name ê³¼ Group Id ì±„ì›Œì¤€ í›„, Next
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img2.png" alt="img2" /></p>

<p><code class="highlighter-rouge">Generate Example</code> ì²´í¬ í›„, Finish
ì˜ˆì œ ì½”ë“œë¥¼ í•¨ê»˜ ìƒì„±í•˜ëŠ” ê²ƒì¸ë°, ì²´í¬ë¥¼ ì•ˆí•˜ë©´ ì§ì ‘ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ê²Œ ë§ì•„ì„œ ì²˜ìŒ ì ‘í•˜ëŠ” ê²½ìš°ëŠ” íŠ¹íˆë‚˜ ì²´í¬!
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img3.png" alt="img3" /></p>

<p>ì „ìì •ë¶€ í”„ë ˆì„ì›Œí¬ë¥¼ ì²˜ìŒ ì‚¬ìš©í•œë‹¤ë©´
<code class="highlighter-rouge">Window -&gt; Perspective -&gt; Open Perspective -&gt; Otherâ€¦</code> ì— ë“¤ì–´ê°„ í›„, <code class="highlighter-rouge">eGovFrame</code> ì„ íƒí•˜ê¸°
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img4.png" alt="img4" />
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img5.png" alt="img5" /></p>

<h3 id="2-controller-ìƒì„±">2. Controller ìƒì„±</h3>

<p>ìœ„ì—ì„œ Generate Example ì„ í†µí•´ ìƒì„±í•œ ê²ƒë“¤ì€ ìƒ˜í”Œ ì½”ë“œì´ë¯€ë¡œ, ë³¸ì¸ì´ ì‚¬ìš©í•  íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•´ì£¼ê¸°
<code class="highlighter-rouge">src í´ë” ìœ„ì—ì„œ ìš°í´ë¦­ -&gt; New -&gt; Class</code> ì„ íƒ
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img6.png" alt="img6" /></p>

<p>ì‚¬ìš©í•  Controller í´ë˜ìŠ¤ ëª…ê³¼ íŒ¨í‚¤ì§€ ëª…ì„ ì±„ì›Œì£¼ê³  Finish
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img7.png" alt="img7" /></p>

<p>ìƒì„±í•˜ë©´  <code class="highlighter-rouge">src/main/java</code>  ë°‘ì— ìƒì„±í•œ íŒ¨í‚¤ì§€ ì•„ë˜ Controller íŒŒì¼ì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆìŒ
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img8.png" alt="img8" />
ì•„ë˜ egovframework ë¡œ ì‹œì‘í•˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì€ ëª¨ë‘ ì˜ˆì œ íŒŒì¼ë¡œ ìƒì„±ëœ ê²ƒë“¤ì´ë‹¤</p>

<h3 id="3-ê¸°ë³¸-í™˜ê²½-ì„¤ì •">3. ê¸°ë³¸ í™˜ê²½ ì„¤ì •</h3>
<ul>
  <li><strong>context-common.xml</strong>
<code class="highlighter-rouge">src/main/resources</code> ì•„ë˜ <code class="highlighter-rouge">egovframework/spring/</code>  ì— context-* íŒŒì¼ë“¤ì´ ìˆìŒ
ì—¬ê¸°ì„œ ë¨¼ì € <code class="highlighter-rouge">context-common.xml</code> íŒŒì¼ì„ ì—´ì–´ base package ë¥¼ ë³€ê²½í•´ì£¼ê¸°
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img9.png" alt="img9" /></li>
</ul>

<p>ë³¸ì¸ì´ ì„¤ì •í•œ íŒ¨í‚¤ì§€ ëª…ìœ¼ë¡œ ë³€ê²½í•´ì£¼ë©´ ëœë‹¤</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--ë³€ê²½ ì „ì—ëŠ” egovframework ë¡œ ë˜ì–´ìˆì—ˆìŒ--&gt;</span>
<span class="nt">&lt;context:component-scan</span> <span class="na">base-package=</span><span class="s">"com.android2spring"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;context:exclude-filter</span> <span class="na">type=</span><span class="s">"annotation"</span> <span class="na">expression=</span><span class="s">"org.springframework.stereotype.Controller"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/context:component-scan&gt;</span>
</code></pre></div></div>

<ul>
  <li><strong>dispatcher-servlet.xml</strong>
ê·¸ë¦¬ê³  <code class="highlighter-rouge">src/main/webapp/WEB-INF/config/egovframework/springmvc/</code> ì•„ë˜ì— <code class="highlighter-rouge">dispatcher-servlet.xml</code> íŒŒì¼ì´ ìˆëŠ”ë° ì—¬ê¸°ë„ ìœ„ íŒŒì¼ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ base-package ëª…ì„ ë³€ê²½í•´ì¤€ë‹¤
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img10.png" alt="img10" /></li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;context:component-scan</span> <span class="na">base-package=</span><span class="s">"com.android2spring"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;context:include-filter</span> <span class="na">type=</span><span class="s">"annotation"</span> <span class="na">expression=</span><span class="s">"org.springframework.stereotype.Controller"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;context:exclude-filter</span> <span class="na">type=</span><span class="s">"annotation"</span> <span class="na">expression=</span><span class="s">"org.springframework.stereotype.Service"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;context:exclude-filter</span> <span class="na">type=</span><span class="s">"annotation"</span> <span class="na">expression=</span><span class="s">"org.springframework.stereotype.Repository"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/context:component-scan&gt;</span>
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  íŒŒì¼ ë‚´ì— ì•„ë˜ ì½”ë“œ ì¶”ê°€í•´ì£¼ê¸°</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;mvc:annotation-driven</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>ì£¼ì„ ì•„ë˜ ë‚´ìš©ì„ í•´ë‹¹ ìœ„ì¹˜ì— ì¶”ê°€í•´ì£¼ê¸°
Json ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œ <code class="highlighter-rouge">Content type 'application/json;charset=UTF-8' not supported</code> ì—ëŸ¬ ë°œìƒ ì‹œ, í•„ìš”</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"webBindingInitializer"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"egovframework.example.cmmn.web.EgovBindingInitializer"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- @ResponseBody application/json ìœ¼ë¡œ ë³€ê²½ --&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"messageConverters"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;list&gt;</span>
            <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/list&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div></div>

<ul>
  <li><strong>web.xml</strong>
<code class="highlighter-rouge">src/main/webapp/WEB-INF/</code> ì•„ë˜ì— web.xml íŒŒì¼ì— servlet íŒŒì¼ ì„¤ì •ì´ ìˆëŠ”ë°
Servlet ì´ë¦„ì€ ì›í•˜ëŠ” ë°ë¡œ ì“°ë”ë¼ë„ [servlet-name]-servlet.xml ì´ë¼ëŠ” íŒŒì¼ì„ ìƒì„±í•´ì•¼ í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ action ì´ë¼ëŠ” servlet ì´ë¦„ì´ ì„¤ì •ë˜ì–´ìˆëŠ”ë° í…ŒìŠ¤íŠ¸ ì‹œ ê³„ì† ê²½ê³  ê°™ì€ê²Œ ë– ì„œ ì¼ë‹¨ dispatcher ë¡œ ë³€ê²½í•´ë‘ì—ˆë‹¤. (dispatcher-servlet.xml íŒŒì¼ì€ ìˆìœ¼ë¯€ë¡œ)</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;servlet&gt;</span>
	<span class="nt">&lt;servlet-name&gt;</span>dispatcher<span class="nt">&lt;/servlet-name&gt;</span>
	<span class="nt">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="nt">&lt;/servlet-class&gt;</span>
	<span class="nt">&lt;init-param&gt;</span>
		<span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
		<span class="nt">&lt;param-value&gt;</span>/WEB-INF/config/egovframework/springmvc/dispatcher-servlet.xml<span class="nt">&lt;/param-value&gt;</span>
	<span class="nt">&lt;/init-param&gt;</span>
	<span class="nt">&lt;load-on-startup&gt;</span>1<span class="nt">&lt;/load-on-startup&gt;</span>
<span class="nt">&lt;/servlet&gt;</span>

<span class="nt">&lt;servlet-mapping&gt;</span>
	<span class="nt">&lt;servlet-name&gt;</span> dispatcher <span class="nt">&lt;/servlet-name&gt;</span>
	<span class="nt">&lt;url-pattern&gt;</span>/<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/servlet-mapping&gt;</span>
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  <code class="highlighter-rouge">&lt;url-pattern&gt;</code> ì€ / ë¡œ ë³€ê²½í•˜ì˜€ë‹¤.
ê¸°ë³¸ì ìœ¼ë¡œ <code class="highlighter-rouge">*.do</code> ë¡œ ë˜ì–´ìˆëŠ”ë° .do í˜•ì‹ì„ ì²˜ë¦¬í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ë‹¤ë¥¸ íŒ¨í„´ì„ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ ëª¨ë“  í˜•ì‹ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ <code class="highlighter-rouge">/</code> ë¡œ ë³€ê²½í•´ë‘ì—ˆë‹¤.
(ê°œì¸ ì ìœ¼ë¡œëŠ” í•´ë‹¹ íŒŒì¼ì— ìˆëŠ” url-pattern ì€ ëª¨ë‘ / ë¡œ ë³€ê²½í•¨)</p>

<h3 id="4-í…ŒìŠ¤íŠ¸">4. í…ŒìŠ¤íŠ¸</h3>
<p><code class="highlighter-rouge">src/main/webapp/WEB-INF/</code> ì•„ë˜ì— ìˆëŠ” <code class="highlighter-rouge">index.jsp</code> íŒŒì¼ì— ê¸°ì¡´ì— ì¨ìˆëŠ” ê²ƒì„ ì§€ìš°ê³  ê°„ë‹¨í•œ ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤</p>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=utf-8"</span><span class="na"> pageEncoding=</span><span class="s">"utf-8"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Hello!<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;p&gt;</span>Hello!<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>í”„ë¡œì íŠ¸ ëª… ìœ„ì— <code class="highlighter-rouge">ìš°í´ë¦­ -&gt; Run As -&gt; Run on Server</code> ì„ íƒ í›„,  ì‹¤í–‰í–ˆì„ ë•Œ ë‹¤
ìŒê³¼ ê°™ì´ ëœ¨ë©´ ìš°ì„  í…ŒìŠ¤íŠ¸ ì„±ê³µ
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img11.png" alt="img11" /></p>

<h3 id="5-ë°ì´í„°ë¥¼-ë°›ê¸°-ìœ„í•œ-ì„¤ì •">5. ë°ì´í„°ë¥¼ ë°›ê¸° ìœ„í•œ ì„¤ì •</h3>
<p><code class="highlighter-rouge">pom.xml</code> ì— json ë°ì´í„°ë¥¼ ë°›ê¸°ìœ„í•œ dependency ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		<span class="nt">&lt;dependency&gt;</span>
		    <span class="nt">&lt;groupId&gt;</span>com.fasterxml.jackson.core<span class="nt">&lt;/groupId&gt;</span>
		    <span class="nt">&lt;artifactId&gt;</span>jackson-databind<span class="nt">&lt;/artifactId&gt;</span>
		    <span class="nt">&lt;version&gt;</span>2.9.3<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
		    <span class="nt">&lt;groupId&gt;</span>org.codehaus.jackson<span class="nt">&lt;/groupId&gt;</span>
		    <span class="nt">&lt;artifactId&gt;</span>jackson-mapper-asl<span class="nt">&lt;/artifactId&gt;</span>
		    <span class="nt">&lt;version&gt;</span>1.9.13<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>slf4j ë¥¼ ì´ìš©í•´ logging ì„ í•  ê²ƒì´ë¼ë©´ ì•„ë˜ dependency ë¥¼ ì¶”ê°€í•˜ê³ ,  properties ì— <code class="highlighter-rouge">&lt;org.slf4j-version&gt;1.7.21&lt;/org.slf4j-version&gt;</code> ë„ ì¶”ê°€í•œë‹¤</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nt">&lt;properties&gt;</span>
	    <span class="nt">&lt;spring.maven.artifact.version&gt;</span>4.3.22.RELEASE<span class="nt">&lt;/spring.maven.artifact.version&gt;</span>
		<span class="nt">&lt;egovframework.rte.version&gt;</span>3.9.0<span class="nt">&lt;/egovframework.rte.version&gt;</span>
		<span class="nt">&lt;org.slf4j-version&gt;</span>1.7.21<span class="nt">&lt;/org.slf4j-version&gt;</span>
	<span class="nt">&lt;/properties&gt;</span>
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>ch.qos.logback<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>logback-classic<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>1.1.7<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.slf4j<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>jcl-over-slf4j<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>${org.slf4j-version}<span class="nt">&lt;/version&gt;</span>
			<span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  <code class="highlighter-rouge">src/main/resources/egovframework/</code> ì— <code class="highlighter-rouge">logback.xml</code> íŒŒì¼ì„ ë§Œë“  í›„, ë‹¤ìŒ ë‚´ìš©ì„ ì±„ì›Œì¤€ë‹¤</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
	<span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"jdbc.sqlonly"</span>			<span class="na">level=</span><span class="s">"DEBUG"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"jdbc.sqltiming"</span>		<span class="na">level=</span><span class="s">"INFO"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"jdbc.audit"</span>			<span class="na">level=</span><span class="s">"WARN"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"jdbc.resultset"</span>		<span class="na">level=</span><span class="s">"ERROR"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"jdbc.resultsettable"</span>	<span class="na">level=</span><span class="s">"ERROR"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"jdbc.connection"</span>		<span class="na">level=</span><span class="s">"INFO"</span><span class="nt">/&gt;</span>

	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"CONSOLE"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.ConsoleAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.PatternLayout"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-4level [%logger.%method:%line]- %msg%n
			<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/layout&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"LOGFILE"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>/WEB-INF/logback.log<span class="nt">&lt;/file&gt;</span>
		<span class="nt">&lt;rollingPolicy</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBaseRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>logback.%d{yyyy-MM-dd}.log<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-4level [%logger.%method:%line]- %msg %n<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"myweb"</span> <span class="na">additivity=</span><span class="s">"false"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;level</span> <span class="na">value=</span><span class="s">"INFO"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"LOGFILE"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"CONSOLE"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/logger&gt;</span>

	<span class="nt">&lt;root&gt;</span>
		<span class="nt">&lt;level</span> <span class="na">value=</span><span class="s">"INFO"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"CONSOLE"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/root&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div></div>

<h3 id="6-android-ë¡œ-ë¶€í„°-ì˜¤ëŠ”-ë°ì´í„°-ì²˜ë¦¬-ì½”ë“œ-ë°-í…ŒìŠ¤íŠ¸">6. Android ë¡œ ë¶€í„° ì˜¤ëŠ” ë°ì´í„° ì²˜ë¦¬ ì½”ë“œ ë° í…ŒìŠ¤íŠ¸</h3>
<p><strong>MainController.java</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainController</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="nc">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="nc">MainController</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

	<span class="nd">@PostMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/user"</span><span class="o">,</span> <span class="n">produces</span><span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">TestPost</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">user</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">JsonProcessingException</span> <span class="o">{</span>

		<span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="n">user</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

		<span class="c1">// android ì— ë³´ë‚¼ ë©”ì‹œì§€</span>
		<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
		<span class="n">result</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"ID"</span><span class="o">,</span> <span class="n">user</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"id"</span><span class="o">));</span>
		<span class="n">result</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"PASSWORD"</span><span class="o">,</span> <span class="n">user</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"password"</span><span class="o">));</span>
		<span class="n">result</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"result"</span><span class="o">,</span> <span class="s">"test OK"</span><span class="o">);</span>

		<span class="nc">ObjectMapper</span> <span class="n">objMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectMapper</span><span class="o">();</span>
		<span class="kd">final</span> <span class="nc">String</span> <span class="n">json</span> <span class="o">=</span> <span class="n">objMapper</span><span class="o">.</span><span class="na">writeValueAsString</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

		<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="n">json</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ì•ˆë“œë¡œì´ë“œ ì•± ë° ì„œë²„ ì‹¤í–‰ í›„, ë°ì´í„°ë¥¼ ë³´ë‚´ë©´
<code class="highlighter-rouge">{id=[send_id], password=[send_password]}</code> ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë¡œê·¸ê°€ ì°íˆê²Œ ë˜ê³ ,</p>

<p>ì•ˆë“œë¡œì´ë“œ í™”ë©´ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ë‹µ Toast ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/200612/img12.jpg" alt="img12" /></p>
:ET