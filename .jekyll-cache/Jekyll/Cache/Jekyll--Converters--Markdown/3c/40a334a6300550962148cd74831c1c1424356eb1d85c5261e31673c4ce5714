I"Ï9<p>[ì°¸ê³ ] <a href="https://freehoon.tistory.com/104">Spring ë¸”ë¡œê·¸ ë§Œë“¤ê¸° - 4.ê¸€ì“°ê¸° í™”ë©´ ë§Œë“¤ê¸° :: í›ˆì‡ ë¸”ë¡œê·¸</a>
ë‹¤ìŒ ë¸”ë¡œê·¸ì—ì„œ ì§„í–‰í•œ í”„ë¡œì íŠ¸ë¥¼ ë”°ë¼í•˜ë©° ê³µë¶€ ì¤‘</p>

<h2 id="service-ì¶”ê°€">Service ì¶”ê°€</h2>
<p>ê²Œì‹œíŒì— ì‘ì„±í•œ ê¸€ì„ ì €ì¥í•  ë•Œ í˜¸ì¶œí•  Service</p>

<ul>
  <li>PostService.java ë‚´ìš© ì¶”ê°€í•˜ê¸°</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertPost</span><span class="o">(</span><span class="nc">PostVO</span> <span class="n">postVO</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>
</code></pre></div></div>

<ul>
  <li>PostServiceImpl.java ë‚´ìš© ì¶”ê°€í•˜ê¸°
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertPost</span><span class="o">(</span><span class="nc">PostVO</span> <span class="n">postVO</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="n">postDAO</span><span class="o">.</span><span class="na">insertPost</span><span class="o">(</span><span class="n">postVO</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="controller-ìˆ˜ì •">Controller ìˆ˜ì •</h2>
<p>ê¸€ì“°ê¸° í™”ë©´ì„ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•œ Controller ì‘ì„±
ë¦¬ìŠ¤íŠ¸ í™”ë©´ì—ì„œ <code class="highlighter-rouge">ê¸€ì“°ê¸°</code> ë²„íŠ¼ í´ë¦­ ì‹œ, /board/postForm ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì „ë‹¬
í•´ë‹¹ ì£¼ì†Œ ê°’ì„ ë°›ì•„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì†ŒìŠ¤ ì¶”ê°€</p>

<ul>
  <li>PostController.java
```java
// ê¸€ì“°ê¸° í™”ë©´
@RequestMapping(â€œ/postFormâ€)
public String postForm() {
  return â€œboard/postFormâ€;
}</li>
</ul>

<p>// ê¸€ ì‘ì„± í›„, ì €ì¥í•  ë•Œ
@RequestMapping(value=â€/savePostâ€, method=RequestMethod.POST)
public String savePost(@ModelAttribute(â€œPostVOâ€) PostVO postVO, RedirectAttributes rttr) throws Exception {
	postService.insertPost(postVO);
	return â€œredirect:/board/getPostListâ€;
}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@ModelAttribute(â€œPostVOâ€)
	- PostVO : í™”ë©´ì—ì„œ ë„˜ê²¨ì£¼ëŠ” ê°’ì„ PostVOì™€ ë§¤ì¹­ì‹œì¼œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜´
	-&gt; ê¸€ì“°ê¸° í™”ë©´ì„ ë§Œë“¤ ë•Œ, ê° ì…ë ¥ ìƒìì˜ name ê°’ì„ PostVOì™€ ì—°ê²°ì‹œí‚¬ ìˆ˜ ìˆë„ë¡ ë™ì¼í•œ ê°’ìœ¼ë¡œ ì„¤ì •
	- RedirectAttributes : ê¸€ì“°ê¸° ì´í›„ ëŒì•„ê°€ì•¼ í•  í˜ì´ì§€ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•œ ì¸ì
	; ì—¬ê¸°ì—ì„œëŠ” ê²Œì‹œíŒ ë¦¬ìŠ¤íŠ¸ë¡œ ëŒì•„ê°
	; ë¸Œë¼ìš°ì €ì˜ â€˜ë’¤ë¡œê°€ê¸°â€™ ë²„íŠ¼ì„ ì‚¬ìš©í–ˆì„ ë•Œ ëŒ€ì‘ì±…ìœ¼ë¡œë„ ì‚¬ìš©

ê¸€ì„ ì“°ê³  ë¦¬ìŠ¤íŠ¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê³¼ì •
- ê¸€ì“°ê¸° í™”ë©´ -&gt; ì €ì¥(ì„œë²„) -&gt; ë¦¬ìŠ¤íŠ¸ í™”ë©´

ì´ ë•Œ, ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë‹¤ì‹œ í•œ ë²ˆ â€˜ì €ì¥â€™ ë‹¨ê³„ë¡œ ëŒì•„ê°€ê²Œ ë¨.
ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, RedirectAttributesë¥¼ ì‚¬ìš©í•˜ë©´ â€˜ì €ì¥â€™ì„ ì§€ë‚˜ ë¦¬ìŠ¤íŠ¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê²Œ ë¨

## ê¸€ì“°ê¸° í™”ë©´ ë§Œë“¤ê¸°

`WEB-INF/views/board/` ì— `postForm.jsp` íŒŒì¼ ìƒì„±
```jsp
<span class="nt">&lt;</span><span class="err">%@</span> <span class="na">page</span> <span class="na">language=</span><span class="s">"java"</span> <span class="na">contentType=</span><span class="s">"text/html; charset=UTF-8"</span>
    <span class="na">pageEncoding=</span><span class="s">"UTF-8"</span><span class="err">%</span><span class="nt">&gt;</span>
<span class="nt">&lt;</span><span class="err">%@</span> <span class="na">taglib</span> <span class="na">prefix=</span><span class="s">"c"</span> <span class="na">uri=</span><span class="s">"http://java.sun.com/jsp/jstl/core"</span> <span class="err">%</span><span class="nt">&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>

	<span class="c">&lt;!-- jQuery --&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-3.3.1.slim.min.js"</span>
	<span class="na">integrity=</span><span class="s">"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;&lt;/script&gt;</span>

	<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"</span>
		<span class="na">integrity=</span><span class="s">"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;</span>

	<span class="nt">&lt;title&gt;</span>ê¸€ì“°ê¸°<span class="nt">&lt;/title&gt;</span>

	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// form ì´ë¼ëŠ” id(form íƒœê·¸))ì˜ ê°ì²´ë¥¼ submit</span>
		<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">#btnSave</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
			<span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
			<span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#form</span><span class="dl">"</span><span class="p">).</span><span class="nx">submit</span><span class="p">();</span>
		<span class="p">});</span>

		<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">#btnList</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
			<span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
			<span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">${pageContext.request.contextPath}/board/getPostList</span><span class="dl">"</span><span class="p">;</span>
		<span class="p">});</span>
	<span class="nt">&lt;/script&gt;</span>

	<span class="nt">&lt;style&gt;</span>
		<span class="nt">body</span> <span class="p">{</span>
		  <span class="nl">padding-top</span><span class="p">:</span> <span class="m">70px</span><span class="p">;</span>
		  <span class="nl">padding-bottom</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;article&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span> <span class="na">role=</span><span class="s">"main"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;h2&gt;</span>ê¸€ì“°ê¸°<span class="nt">&lt;/h2&gt;</span>
			<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">"form"</span> <span class="na">id=</span><span class="s">"form"</span> <span class="na">role=</span><span class="s">"form"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">"${pageContext.request.contextPath}/board/savePost"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mb-3"</span><span class="nt">&gt;</span>
					<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"title"</span><span class="nt">&gt;</span>ì œëª©<span class="nt">&lt;/label&gt;</span>
					<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">name=</span><span class="s">"title"</span> <span class="na">id=</span><span class="s">"title"</span> <span class="na">placeholder=</span><span class="s">"ì œëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;/div&gt;</span>

				<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mb-3"</span><span class="nt">&gt;</span>
					<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"category"</span><span class="nt">&gt;</span>ì¹´í…Œê³ ë¦¬<span class="nt">&lt;/label&gt;</span>
					<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">name=</span><span class="s">"category"</span> <span class="na">id=</span><span class="s">"category"</span> <span class="na">placeholder=</span><span class="s">"ì¹´í…Œê³ ë¦¬ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;/div&gt;</span>

				<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mb-3"</span><span class="nt">&gt;</span>
					<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"author"</span><span class="nt">&gt;</span>ì‘ì„±ì<span class="nt">&lt;/label&gt;</span>
					<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">name=</span><span class="s">"author"</span> <span class="na">id=</span><span class="s">"author"</span> <span class="na">placeholder=</span><span class="s">"ì´ë¦„ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;/div&gt;</span>

				<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mb-3"</span><span class="nt">&gt;</span>
					<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"contents"</span><span class="nt">&gt;</span>ë‚´ìš©<span class="nt">&lt;/label&gt;</span>
					<span class="nt">&lt;textarea</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">rows=</span><span class="s">"5"</span> <span class="na">name=</span><span class="s">"contents"</span> <span class="na">id=</span><span class="s">"contents"</span> <span class="na">placeholder=</span><span class="s">"ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”"</span> <span class="nt">&gt;&lt;/textarea&gt;</span>
				<span class="nt">&lt;/div&gt;</span>

				<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mb-3"</span><span class="nt">&gt;</span>
					<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"tag"</span><span class="nt">&gt;</span>TAG<span class="nt">&lt;/label&gt;</span>
					<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">name=</span><span class="s">"tag"</span> <span class="na">id=</span><span class="s">"tag"</span> <span class="na">placeholder=</span><span class="s">"íƒœê·¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;/div&gt;</span>
			<span class="nt">&lt;/form&gt;</span>

			<span class="nt">&lt;div</span> <span class="nt">&gt;</span>
				<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"btn btn-sm btn-dark"</span> <span class="na">id=</span><span class="s">"btnSave"</span><span class="nt">&gt;</span>ì €ì¥<span class="nt">&lt;/button&gt;</span>
				<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"btn btn-sm btn-dark"</span> <span class="na">id=</span><span class="s">"btnList"</span><span class="nt">&gt;</span>ëª©ë¡<span class="nt">&lt;/button&gt;</span>
			<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/article&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>ì´ ë•Œ, ë¦¬ìŠ¤íŠ¸ í™”ë©´ê³¼ ê¸€ì“°ê¸° í™”ë©´ ì†ŒìŠ¤ì—ì„œ ê²¹ì¹˜ëŠ” ë‚´ìš©ì´ ìˆìŒ
-&gt; ë¶„ë¦¬</p>

<h2 id="ì¤‘ë³µ-ì½”ë“œ-ë¶„ë¦¬í•˜ê¸°">ì¤‘ë³µ ì½”ë“œ ë¶„ë¦¬í•˜ê¸°</h2>
<ul>
  <li>src/main/webapp/resources : ê³µí†µ ìì› ê´€ë¦¬ (ì´ë¯¸ì§€, ìë°”ìŠ¤í¬ë¦½íŠ¸, CSS ë“±)</li>
  <li>
    <p>src/main/webapp/WEB-INF/views/layout : ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë  í˜ì´ì§€</p>
  </li>
  <li>WEB-INF/views/layout/header.jsp
```jsp
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script></li>
</ul>

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />

<!-- common CSS -->
<link rel="stylesheet" href="${pageContext.request.contextPath}/resources/common/css/common.css" />

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
- webapp/resources/common/css/common.css
```css
body {
	padding-top: 70px;
	padding-bottom: 30px;
}
</code></pre></div></div>

<ul>
  <li>index.jsp ì™€ postForm.jsp ìˆ˜ì •
```jsp</li>
</ul>
<head>
	&lt;%@ include file="/WEB-INF/views/layout/header.jsp"%&gt;
	...
</head>
<p>```
header.jsp ì™€ common.css ë¡œ ëº€ ë¶€ë¶„ ì œê±° í›„, ìœ„ ì½”ë“œ ì¶”ê°€í•˜ê¸°</p>

<h2 id="í…ŒìŠ¤íŠ¸">í…ŒìŠ¤íŠ¸</h2>
<ul>
  <li>
    <p>ê¸€ì“°ê¸° í™”ë©´
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/blog4/img1.png" alt="img1" /></p>
  </li>
  <li>
    <p>ì €ì¥ í›„ í™”ë©´
<img src="https://raw.githubusercontent.com/devilzCough/devilzCough.github.io/master/_posts/img/blog4/img2.png" alt="img2" /></p>
  </li>
</ul>
:ET